<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>main.html</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<meta name="generator" content="SynEdit HTML exporter" />
<style type="text/css">
<!--
body { color: #000000; background-color: #000000; }
.cpp1-assembler { color: #00FF00; }
.cpp1-character { color: #3366FF; }
.cpp1-comment { color: #3366FF; font-style: italic; }
.cpp1-float { color: #FF00FF; }
.cpp1-hexadecimal { color: #FF00FF; }
.cpp1-identifier { color: #00FF00; }
.cpp1-illegalchar { background-color: #800000; color: #FF0000; }
.cpp1-number { color: #0000FF; }
.cpp1-octal { color: #FF00FF; }
.cpp1-preprocessor { color: #33CCCC; }
.cpp1-reservedword { color: #008000; }
.cpp1-space { background-color: #000000; color: #FFFFFF; }
.cpp1-string { color: #C3C3C3; }
.cpp1-symbol { color: #FF0000; }
-->
</style>
</head>
<body>
<pre>
<code><span style="font: 12pt Consolas;"><span class="cpp1-preprocessor">#include &lt;MemoryFree.h&gt;
#include &lt;SoftwareSerial.h&gt;
#include &lt;IRremote.h&gt;
#include &lt;string.h&gt;
#define rxPin 9
#define txPin 10
#define RECV_PIN 4


</span><span class="cpp1-comment">/***************************PLEASE MODIFY THIS LINE WHEN NEEDED*************************/</span><span class="cpp1-space"> </span><span class="cpp1-illegalchar">#</span><span class="cpp1-identifier">define</span><span class="cpp1-space"> </span><span class="cpp1-identifier">total_relay</span><span class="cpp1-space"> </span><span class="cpp1-number">2</span><span class="cpp1-space">    </span><span class="cpp1-comment">// Total number of relay connected

</span><span class="cpp1-preprocessor">#include &lt;Wire.h&gt;
#include &quot;RTClib.h&quot;
#include &lt;TimeAlarms.h&gt;
#include &lt;TimeLib.h&gt;
#include &lt;Time.h&gt;


</span><span class="cpp1-comment">/********RTC*********************/
</span><span class="cpp1-identifier">RTC_DS1307</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rtc</span><span class="cpp1-symbol">;
</span><span class="cpp1-identifier">tmElements_t</span><span class="cpp1-space"> </span><span class="cpp1-identifier">tm</span><span class="cpp1-symbol">;

</span><span class="cpp1-preprocessor">#if defined(ARDUINO_ARCH_SAMD)
</span><span class="cpp1-comment">// for Zero, output on USB Serial console, remove line below if using programming port to program the Zero!
</span><span class="cpp1-space">   </span><span class="cpp1-preprocessor">#define Serial SerialUSB
#endif


</span><span class="cpp1-comment">/********BLUETOOTH***************/
</span><span class="cpp1-identifier">SoftwareSerial</span><span class="cpp1-space"> </span><span class="cpp1-identifier">bluetooth</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rxPin</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">txPin</span><span class="cpp1-symbol">);

</span><span class="cpp1-comment">/*******Infra-Red****************/
</span><span class="cpp1-identifier">IRrecv</span><span class="cpp1-space"> </span><span class="cpp1-identifier">irrecv</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">RECV_PIN</span><span class="cpp1-symbol">);
</span><span class="cpp1-identifier">decode_results</span><span class="cpp1-space"> </span><span class="cpp1-identifier">results</span><span class="cpp1-symbol">;

</span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">;

</span><span class="cpp1-reservedword">struct</span><span class="cpp1-space"> </span><span class="cpp1-identifier">function</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">{
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">activity</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">;
}</span><span class="cpp1-space"> </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">;

</span><span class="cpp1-reservedword">struct</span><span class="cpp1-space"> </span><span class="cpp1-identifier">relay
</span><span class="cpp1-symbol">{
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">socket</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">hour_daily_end</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">minute_daily_end</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">second_daily_end_and_start</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">hour_daily_start</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">minute_daily_start</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">description</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  
</span><span class="cpp1-symbol">}</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">total_relay</span><span class="cpp1-symbol">];

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">all_rel_HIGH</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">&lt;</span><span class="cpp1-identifier">total_relay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">;</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">++)
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">digitalWrite</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">HIGH</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   
   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Impostato ad HIGH pin n. &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot; per struttura rel[] n. &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">init_output_rel</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">&lt;</span><span class="cpp1-identifier">total_relay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">;</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">++)
</span><span class="cpp1-space">   </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">pinMode</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">OUTPUT</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   
   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Inizializzato pin n. &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot; per struttura rel[] n. &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-symbol">}
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">setup</span><span class="cpp1-space"> </span><span class="cpp1-symbol">()
</span><span class="cpp1-space"> </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">  </span><span class="cpp1-comment">/*
  #ifndef ESP8266
  while (!Serial); // for Leonardo/Micro/Zero
  #endif
  */</span><span class="cpp1-space">	 
	 
  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">begin</span><span class="cpp1-symbol">(</span><span class="cpp1-number">9600</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> </span><span class="cpp1-comment">//set baud rate
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">bluetooth</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">begin</span><span class="cpp1-symbol">(</span><span class="cpp1-number">9600</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">init_output_rel</span><span class="cpp1-symbol">();</span><span class="cpp1-space"> </span><span class="cpp1-comment">//Declare output all relays
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">all_rel_HIGH</span><span class="cpp1-symbol">();</span><span class="cpp1-space">    </span><span class="cpp1-comment">//Set HIGH all relays
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">delay</span><span class="cpp1-symbol">(</span><span class="cpp1-number">1000</span><span class="cpp1-symbol">);

</span><span class="cpp1-space">  </span><span class="cpp1-identifier">irrecv</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">enableIRIn</span><span class="cpp1-symbol">();</span><span class="cpp1-space"> </span><span class="cpp1-comment">// Start the receiver
</span><span class="cpp1-space">  
  </span><span class="cpp1-comment">//FOR DEBUG 
</span><span class="cpp1-space">  </span><span class="cpp1-comment">/* Serial.begin(57600);
  if (! rtc.begin()) {
    Serial.println(&quot;Couldn't find RTC&quot;);
    while (1);
  }
  */

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(!</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rtc</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">begin</span><span class="cpp1-symbol">())</span><span class="cpp1-space"> </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Couldn't find RTC&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">while</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-number">1</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(!</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rtc</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">isrunning</span><span class="cpp1-symbol">())</span><span class="cpp1-space"> </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;RTC is NOT running!&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">rtc</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">adjust</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">DateTime</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">F</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">__DATE__</span><span class="cpp1-symbol">),</span><span class="cpp1-space"> </span><span class="cpp1-identifier">F</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">__TIME__</span><span class="cpp1-symbol">)));
</span><span class="cpp1-space">   </span><span class="cpp1-comment">// rtc.adjust(DateTime(year, month, day, hour, min, sec)); IF NEED ADJUSTMENTS
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">DateTime</span><span class="cpp1-space"> </span><span class="cpp1-identifier">now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rtc</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">setTime</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">hour</span><span class="cpp1-symbol">(),</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">minute</span><span class="cpp1-symbol">(),</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">second</span><span class="cpp1-symbol">(),</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">month</span><span class="cpp1-symbol">(),</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">day</span><span class="cpp1-symbol">(),</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">year</span><span class="cpp1-symbol">());

</span><span class="cpp1-space">  </span><span class="cpp1-comment">/*********PLEASE HERE DECLARE THE PIN'S OF THE RELAYS, ONE EACH REL[] STRUCTURE*******/
</span><span class="cpp1-space">  </span><span class="cpp1-comment">//example : rel[].socket = pin connected to relay ;
</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-number">0</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">6</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-number">0</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">description</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">1</span><span class="cpp1-symbol">;</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-number">1</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">7</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-number">1</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">description</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">3</span><span class="cpp1-symbol">;

</span><span class="cpp1-space"> </span><span class="cpp1-symbol">}
</span><span class="cpp1-space"> 
</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">printDigits</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">digits</span><span class="cpp1-symbol">)
{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;:&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">digits</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&lt;</span><span class="cpp1-space"> </span><span class="cpp1-number">10</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-character">'0'</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">digits</span><span class="cpp1-symbol">);
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">digitalClockDisplay</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-comment">// digital clock display of the time
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">DateTime</span><span class="cpp1-space"> </span><span class="cpp1-identifier">now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rtc</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">hour</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">printDigits</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">minute</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">printDigits</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">now</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">second</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">();</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">bool</span><span class="cpp1-space"> </span><span class="cpp1-identifier">ir_handler</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">decode_results</span><span class="cpp1-space"> </span><span class="cpp1-symbol">*</span><span class="cpp1-identifier">results</span><span class="cpp1-symbol">)
{
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">results</span><span class="cpp1-symbol">-&gt;</span><span class="cpp1-identifier">value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-hexadecimal">0xA90</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">turn_off</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">    </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> 
      </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">false</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">bluetooth_handler</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">char</span><span class="cpp1-space"> </span><span class="cpp1-identifier">check</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-character">' '</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">check</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">bluetooth</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">read</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">((</span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">check</span><span class="cpp1-symbol">)!=</span><span class="cpp1-space"> </span><span class="cpp1-number">13</span><span class="cpp1-symbol">)&amp;&amp;(</span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">check</span><span class="cpp1-symbol">)!=</span><span class="cpp1-space"> </span><span class="cpp1-number">10</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)&amp;&amp;(</span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">check</span><span class="cpp1-symbol">)!=</span><span class="cpp1-space"> </span><span class="cpp1-number">32</span><span class="cpp1-symbol">))</span><span class="cpp1-space"> </span><span class="cpp1-comment">//Ignore '\r' , '\n' and spaces
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">check</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Relivated unprintable chars, ASCII value is : &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">check</span><span class="cpp1-symbol">));
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Value of bluetooth buffer is = '&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;'&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">check</span><span class="cpp1-symbol">==</span><span class="cpp1-character">']'</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">bluetooth_Parser</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  
</span><span class="cpp1-symbol">}

</span><span class="cpp1-comment">/********************************MEANINGS OF DESCRIPTIONS*********************************
1  = Lamp
2  = Chandelier
3  = Computer
4  = Fridge
5  = Fan
6  = Microwave
7  = Charger
8  = Electric shutter
9  = Amplifier
10 = Speakers
11 = Aircooler
12 = Confetti's cannon
*****************************************************************************************/

/**********************STRUCTURE BLUETOOTH PACKAGE****************************************
 * ('figures' in italian : 'cifre')
 * ([) Message opening                                                    1 position : [0]
 * (1st number, two figures) Activity                                     2 position : [2]
 * (,)                                                                    1 position : [3]
 * (2nd number , four figures) Extra_value                                4 position : [7]
 * (,)																	                                  1 position : [8]
 * (3rd number , six figures) Extra_value2                                6 position : [14]
 * (]) message closer                                                     1 position : [15] Total = 16
 *****************************************************************************************/



</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">bluetooth_Parser</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Open bluetooth parser&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">length</span><span class="cpp1-symbol">())!=</span><span class="cpp1-number">16</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//Hard coded dimensions and particularities of the message
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{</span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Lenght check not passed&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">length</span><span class="cpp1-symbol">()));
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;}</span><span class="cpp1-space">  
    </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">0</span><span class="cpp1-symbol">]!=</span><span class="cpp1-character">'['</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">     </span><span class="cpp1-symbol">{</span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Opener check not passed&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">     </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">0</span><span class="cpp1-symbol">]);
</span><span class="cpp1-space">     </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;}
</span><span class="cpp1-space">      </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">3</span><span class="cpp1-symbol">]!=</span><span class="cpp1-character">','</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">      </span><span class="cpp1-symbol">{</span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;First comma check not passed&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">3</span><span class="cpp1-symbol">]);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;}
</span><span class="cpp1-space">		   </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">8</span><span class="cpp1-symbol">]!=</span><span class="cpp1-character">','</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">	     </span><span class="cpp1-symbol">{</span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Second comma check not passed&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">       </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">8</span><span class="cpp1-symbol">]);
</span><span class="cpp1-space">       </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;}
</span><span class="cpp1-space">		     </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">15</span><span class="cpp1-symbol">]!=</span><span class="cpp1-character">']'</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">         </span><span class="cpp1-symbol">{</span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Closer check not passed&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">          </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">[</span><span class="cpp1-number">15</span><span class="cpp1-symbol">]);
</span><span class="cpp1-space">           </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;}
</span><span class="cpp1-space">		      </span><span class="cpp1-reservedword">else
</span><span class="cpp1-space">          </span><span class="cpp1-symbol">{</span><span class="cpp1-space">  </span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">temp_string</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">             </span><span class="cpp1-reservedword">long</span><span class="cpp1-space"> </span><span class="cpp1-identifier">temp</span><span class="cpp1-symbol">=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">;

</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Received package : &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">temp_string</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">substring</span><span class="cpp1-symbol">(</span><span class="cpp1-number">1</span><span class="cpp1-symbol">,</span><span class="cpp1-number">3</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> </span><span class="cpp1-comment">// substring (from [index] ,to [index we want in the sub +1])// https://www.arduino.cc/en/Reference/StringSubstring
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">temp</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">atoi</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">temp_string</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">c_str</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">temp</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Received activity : &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              
              </span><span class="cpp1-identifier">temp_string</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">substring</span><span class="cpp1-symbol">(</span><span class="cpp1-number">4</span><span class="cpp1-symbol">,</span><span class="cpp1-number">8</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> 
              </span><span class="cpp1-identifier">temp</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">atoi</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">temp_string</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">c_str</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">temp</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Received extra_val : &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">                            
			        </span><span class="cpp1-identifier">temp_string</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">substring</span><span class="cpp1-symbol">(</span><span class="cpp1-number">9</span><span class="cpp1-symbol">,</span><span class="cpp1-number">15</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">temp</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">atoi</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">temp_string</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">c_str</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">int</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">temp</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Received extra_val2 : &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">              </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">);

</span><span class="cpp1-space">            </span><span class="cpp1-identifier">bluetooth_Buffer</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-comment">//Reset buffer for new packets

</span><span class="cpp1-space">            </span><span class="cpp1-identifier">activity_manager</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">        </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  
</span><span class="cpp1-symbol">}


</span><span class="cpp1-comment">// ACTIVITY MANAGER
</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">activity_manager</span><span class="cpp1-space"> </span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Open activity manager&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">digitalClockDisplay</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">1</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">// Turn OFF relay n. extra_value
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">turn_off</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">2</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">// Turn On relay n. extra_value
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">turn_on</span><span class="cpp1-symbol">();

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">3</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">// Set timer to turn ON relay n. extra_value in time extra_value2
</span><span class="cpp1-space">	    </span><span class="cpp1-identifier">set_timer_on</span><span class="cpp1-symbol">();

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">4</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">// Set timer to turn OFF relay n. extra_value in time extra_value2
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">set_timer_off</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">    
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">5</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">// Set daily START on relay n. extra_value in time extra_value2
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">set_daily_start</span><span class="cpp1-symbol">();

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">6</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">// Set daily END on relay n. extra_value in time extra_value2
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">set_daily_end</span><span class="cpp1-symbol">();

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">50</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">// REQUEST of OFFER 
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">bluetooth_offer</span><span class="cpp1-symbol">();

</span><span class="cpp1-space">                     </span><span class="cpp1-comment">// 51 is an OFFER package (Will never be received on CLIENTino)
</span><span class="cpp1-space">                   
                
                     </span><span class="cpp1-comment">// 99 is a CLOSE communication_packet (Will never be received on CLIENTino)*/

</span><span class="cpp1-space">	</span><span class="cpp1-reservedword">return</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">bluetooth_offer</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Offer now :&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">&lt;</span><span class="cpp1-identifier">total_relay</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">++)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">send_package</span><span class="cpp1-symbol">(</span><span class="cpp1-number">51</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">description</span><span class="cpp1-space"> </span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">send_package</span><span class="cpp1-symbol">(</span><span class="cpp1-number">99</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">);</span><span class="cpp1-space"> </span><span class="cpp1-comment">//Close comunication
</span><span class="cpp1-reservedword">return</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">send_package</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">activity</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">)
{</span><span class="cpp1-space"> </span><span class="cpp1-comment">//Serial.println(&quot;FLAG send package&quot;); 
</span><span class="cpp1-space">  
  </span><span class="cpp1-comment">//Serial.println(&quot;Send package&quot;);
</span><span class="cpp1-space">  
  </span><span class="cpp1-comment">//Serial.print(&quot;freeMemory()=&quot;);
</span><span class="cpp1-space">  </span><span class="cpp1-comment">//Serial.println(freeMemory());
</span><span class="cpp1-space">  
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">((</span><span class="cpp1-identifier">activity</span><span class="cpp1-symbol">&gt;</span><span class="cpp1-number">99</span><span class="cpp1-symbol">)||(</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">&gt;</span><span class="cpp1-number">9999</span><span class="cpp1-symbol">)||(</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">&gt;</span><span class="cpp1-number">999999</span><span class="cpp1-symbol">))
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{</span><span class="cpp1-space"> 
    </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Unable to send the packet because of uncorrect values&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_activity</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zero_padd</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">activity</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-number">2</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-comment">//Serial.println(&quot;THIS IS AUX ACT&quot;);
</span><span class="cpp1-space">    </span><span class="cpp1-comment">//Serial.println(aux_activity);
</span><span class="cpp1-space">    
    </span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_extra_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zero_padd</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-number">4</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-comment">//Serial.println(&quot;THIS IS AUX EXTRA&quot;);
</span><span class="cpp1-space">    </span><span class="cpp1-comment">//Serial.println(aux_extra_value);
</span><span class="cpp1-space">    
    </span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_extra_value2</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zero_padd</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-number">6</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-comment">//Serial.println(&quot;THIS IS AUX EXTRA 2&quot;);
</span><span class="cpp1-space">    </span><span class="cpp1-comment">//Serial.println(aux_extra_value2);

</span><span class="cpp1-space">    </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-character">'['</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_activity</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> 
    </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-character">','</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_extra_value</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-character">','</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_extra_value2</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">packet</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+=</span><span class="cpp1-space"> </span><span class="cpp1-character">']'</span><span class="cpp1-symbol">;

</span><span class="cpp1-space">    </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;This is packet&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">packet</span><span class="cpp1-symbol">);</span><span class="cpp1-space">             </span><span class="cpp1-comment">//packet.concat(aux_activity)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">bluetooth</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">packet</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  
</span><span class="cpp1-reservedword">return</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">zero_padd</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">value</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">spaces</span><span class="cpp1-symbol">)
{</span><span class="cpp1-space"> </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;FLAG zero_padd&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">String</span><span class="cpp1-space"> </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;FLAG zero_padd1&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">spaces</span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_value</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">value</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;FLAG zero_padd2&quot;</span><span class="cpp1-symbol">);

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">aux_value</span><span class="cpp1-symbol">!=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">    </span><span class="cpp1-reservedword">do</span><span class="cpp1-space"> 
    </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;FLAG zero_padd3&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">aux_value</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">aux_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">      </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">aux_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">aux_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">/</span><span class="cpp1-space"> </span><span class="cpp1-number">10</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;This is aux after /10&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">aux_value</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">--;
</span><span class="cpp1-space">      </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">while</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">aux_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;</span><span class="cpp1-space"> </span><span class="cpp1-number">0</span><span class="cpp1-symbol">);

</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">=</span><span class="cpp1-identifier">spaces</span><span class="cpp1-symbol">-</span><span class="cpp1-number">1</span><span class="cpp1-symbol">;</span><span class="cpp1-space">  
  </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;This is value :&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">value</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;This is spaces :&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">spaces</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;This is padds :&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">!=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">==</span><span class="cpp1-number">1</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;0&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">==</span><span class="cpp1-number">2</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;00&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">==</span><span class="cpp1-number">3</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;000&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">==</span><span class="cpp1-number">4</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;0000&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">==</span><span class="cpp1-number">5</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;00000&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">padds</span><span class="cpp1-symbol">==</span><span class="cpp1-number">6</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-string">&quot;00000&quot;</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}

</span><span class="cpp1-space">  </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">concat</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">value</span><span class="cpp1-symbol">);

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">set_timer_off</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">hour</span><span class="cpp1-symbol">()+</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">/</span><span class="cpp1-number">3600</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">minute</span><span class="cpp1-symbol">()+</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">/</span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">second</span><span class="cpp1-symbol">()+</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">%</span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">adjust_timer_off</span><span class="cpp1-symbol">();</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">set_timer_on</span><span class="cpp1-symbol">()
{

</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">hour</span><span class="cpp1-symbol">();</span><span class="cpp1-comment">//+function_temp.extra_value2;///3600;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">minute</span><span class="cpp1-symbol">();</span><span class="cpp1-comment">//+function_temp.extra_value2;///60;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">second</span><span class="cpp1-symbol">()+</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-space"> </span><span class="cpp1-symbol">;</span><span class="cpp1-comment">//%60;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">adjust_timer_on</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">              
</span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">adjust_timer_on</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> 
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;=</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{</span><span class="cpp1-space">  
   </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space">  </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">/</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">%</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;=</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">/</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-space"> </span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">%</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;=</span><span class="cpp1-space"> </span><span class="cpp1-number">24</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">%</span><span class="cpp1-space"> </span><span class="cpp1-number">24</span><span class="cpp1-symbol">;

}


</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">adjust_timer_off</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> 
    </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;=</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{</span><span class="cpp1-space">  
   </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space">  </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">/</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">   </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">%</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;=</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">{</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">+</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">/</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-space"> </span><span class="cpp1-symbol">;
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">%</span><span class="cpp1-space"> </span><span class="cpp1-number">60</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&gt;=</span><span class="cpp1-space"> </span><span class="cpp1-number">24</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">%</span><span class="cpp1-space"> </span><span class="cpp1-number">24</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  
  </span><span class="cpp1-symbol">}
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">set_daily_end</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">hour_daily_end</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">/</span><span class="cpp1-number">100</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">minute_daily_end</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">%</span><span class="cpp1-number">100</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">set_daily_start</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">hour_daily_start</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">/</span><span class="cpp1-number">100</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">minute_daily_start</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">%</span><span class="cpp1-number">100</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">match_time</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">)
{</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-comment">//No match founded

</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">hour_now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">hour</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">minute_now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">minute</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">second_now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">second</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">   
   </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">hour_daily_end</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">hour_now</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&amp;&amp;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">minute_daily_end</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">minute_now</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//return 6 (same n. as activity)
</span><span class="cpp1-space">    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">second_daily_end_and_start</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">second_now</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">    </span><span class="cpp1-symbol">{

</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot; match with daily_end, I'll return 6&quot;</span><span class="cpp1-symbol">);

</span><span class="cpp1-space">      </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-number">6</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">      </span><span class="cpp1-symbol">}
</span><span class="cpp1-space"> 
   </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">hour_daily_start</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">hour_now</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&amp;&amp;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">minute_daily_start</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">minute_now</span><span class="cpp1-symbol">))</span><span class="cpp1-space"> </span><span class="cpp1-comment">//return 5 (same n. as activity)
</span><span class="cpp1-space">      </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">second_daily_end_and_start</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">second_now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)
</span><span class="cpp1-space">      </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot; match with daily_start, I'll return 5&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-number">5</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-comment">//Turn on founded
</span><span class="cpp1-space">      </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">   
   </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">hour_now</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&amp;&amp;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">minute_now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//return 4 (same n. as activity)
</span><span class="cpp1-space">        </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">second_now</span><span class="cpp1-symbol">)
</span><span class="cpp1-space">        </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot; match with timer_off, I'll return 4&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_off_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-number">4</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">        </span><span class="cpp1-symbol">}
</span><span class="cpp1-space">    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">hour_now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-symbol">&amp;&amp;</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">minute_now</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//return 3 (same n. as activity)
</span><span class="cpp1-space">        </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-symbol">==</span><span class="cpp1-identifier">second_now</span><span class="cpp1-space"> </span><span class="cpp1-symbol">)
</span><span class="cpp1-space">        </span><span class="cpp1-symbol">{
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot; match with timer_on, I'll return 3&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">           
        </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_hour</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_minute</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">timer_on_second</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-number">61</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">        </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">=</span><span class="cpp1-number">3</span><span class="cpp1-symbol">;
</span><span class="cpp1-space">       </span><span class="cpp1-symbol">}

</span><span class="cpp1-space">   </span><span class="cpp1-reservedword">return</span><span class="cpp1-space"> </span><span class="cpp1-identifier">result</span><span class="cpp1-symbol">;
}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">turn_by_match</span><span class="cpp1-symbol">()
{</span><span class="cpp1-space"> </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;Checking by match : &quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-reservedword">for</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">=</span><span class="cpp1-number">0</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">&lt;</span><span class="cpp1-identifier">total_relay</span><span class="cpp1-symbol">;</span><span class="cpp1-space"> </span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">++)
</span><span class="cpp1-space">   </span><span class="cpp1-symbol">{</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">match_result</span><span class="cpp1-space"> </span><span class="cpp1-symbol">=</span><span class="cpp1-space"> </span><span class="cpp1-identifier">match_time</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">    </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">match_result</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">6</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//daily_end
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">turn_off_pin</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">     </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">match_result</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">5</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//daily_start
</span><span class="cpp1-space">     </span><span class="cpp1-identifier">turn_on_pin</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">match_result</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">3</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//timer_on
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">turn_on_pin</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">       </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">match_result</span><span class="cpp1-space"> </span><span class="cpp1-symbol">==</span><span class="cpp1-space"> </span><span class="cpp1-number">4</span><span class="cpp1-symbol">)</span><span class="cpp1-space"> </span><span class="cpp1-comment">//timer_off
</span><span class="cpp1-space">       </span><span class="cpp1-identifier">turn_off_pin</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">i</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">        </span><span class="cpp1-reservedword">else</span><span class="cpp1-space"> </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;No match founded&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">   </span><span class="cpp1-symbol">}
}


</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">turn_on_pin</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">index</span><span class="cpp1-symbol">)
{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">digitalWrite</span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-identifier">index</span><span class="cpp1-space"> </span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">LOW</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;ON&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">delay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-number">4000</span><span class="cpp1-symbol">);</span><span class="cpp1-space">       
</span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">turn_off_pin</span><span class="cpp1-symbol">(</span><span class="cpp1-reservedword">int</span><span class="cpp1-space"> </span><span class="cpp1-identifier">index</span><span class="cpp1-symbol">)
{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">digitalWrite</span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-identifier">index</span><span class="cpp1-space"> </span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">HIGH</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;OFF&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">delay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-number">4000</span><span class="cpp1-symbol">);</span><span class="cpp1-space">       
</span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">turn_off</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">digitalWrite</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">HIGH</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;OFF&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">delay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-number">4000</span><span class="cpp1-symbol">);</span><span class="cpp1-space">                                     </span><span class="cpp1-comment">//this is to not overcharge the relay
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_turn_off</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">digitalWrite</span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-space"> </span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">HIGH</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;OFF&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">delay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-number">4000</span><span class="cpp1-symbol">);</span><span class="cpp1-space">                                     </span><span class="cpp1-comment">//this is to not overcharge the relay
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">timer_turn_on</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">digitalWrite</span><span class="cpp1-symbol">(</span><span class="cpp1-space"> </span><span class="cpp1-identifier">rel</span><span class="cpp1-symbol">[</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value2</span><span class="cpp1-symbol">].</span><span class="cpp1-identifier">socket</span><span class="cpp1-space"> </span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">LOW</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;ON&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">delay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-number">4000</span><span class="cpp1-symbol">);</span><span class="cpp1-space">                                     </span><span class="cpp1-comment">//this is to not overcharge the relay
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">turn_on</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">digitalWrite</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">function_temp</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">extra_value</span><span class="cpp1-space"> </span><span class="cpp1-symbol">,</span><span class="cpp1-space"> </span><span class="cpp1-identifier">LOW</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;ON&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">      </span><span class="cpp1-identifier">delay</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-number">4000</span><span class="cpp1-symbol">);</span><span class="cpp1-space">                                      </span><span class="cpp1-comment">//this is to not overcharge the relay
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}


</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">digitalClockDisplay_notRTC</span><span class="cpp1-symbol">()
{
</span><span class="cpp1-space">  </span><span class="cpp1-comment">// digital clock display of the time
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">hour</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">printDigits</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">minute</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">printDigits</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">second</span><span class="cpp1-symbol">());
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">();</span><span class="cpp1-space"> 
</span><span class="cpp1-symbol">}

</span><span class="cpp1-reservedword">void</span><span class="cpp1-space"> </span><span class="cpp1-identifier">loop</span><span class="cpp1-space"> </span><span class="cpp1-symbol">()
</span><span class="cpp1-space"> </span><span class="cpp1-symbol">{</span><span class="cpp1-space">  
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">bluetooth</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">available</span><span class="cpp1-symbol">())
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">bluetooth_handler</span><span class="cpp1-symbol">();</span><span class="cpp1-space">  
  
  </span><span class="cpp1-reservedword">if</span><span class="cpp1-space"> </span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">irrecv</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">decode</span><span class="cpp1-symbol">(&amp;</span><span class="cpp1-identifier">results</span><span class="cpp1-symbol">))
</span><span class="cpp1-space">    </span><span class="cpp1-identifier">ir_handler</span><span class="cpp1-symbol">(&amp;</span><span class="cpp1-identifier">results</span><span class="cpp1-symbol">);

</span><span class="cpp1-space">  </span><span class="cpp1-identifier">digitalClockDisplay_notRTC</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">turn_by_match</span><span class="cpp1-symbol">();
</span><span class="cpp1-space">  
  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">print</span><span class="cpp1-symbol">(</span><span class="cpp1-string">&quot;freeMemory()=&quot;</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-identifier">Serial</span><span class="cpp1-symbol">.</span><span class="cpp1-identifier">println</span><span class="cpp1-symbol">(</span><span class="cpp1-identifier">freeMemory</span><span class="cpp1-symbol">());

</span><span class="cpp1-space">  </span><span class="cpp1-identifier">delay</span><span class="cpp1-symbol">(</span><span class="cpp1-number">50</span><span class="cpp1-symbol">);
</span><span class="cpp1-space">  </span><span class="cpp1-symbol">}
</span></span>
</code></pre>
</body>
</html>